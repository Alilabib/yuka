var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,n,p){c!=Array.prototype&&c!=Object.prototype&&(c[n]=p.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(n){return $jscomp.SYMBOL_PREFIX+(n||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var n=0;return $jscomp.iteratorPrototype(function(){return n<c.length?{done:!1,value:c[n++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var n=c[Symbol.iterator];return n?n.call(c):$jscomp.arrayIterator(c)};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(c){var n=function(){};n.prototype=c;return new n};
$jscomp.underscoreProtoCanBeSet=function(){var c={a:!0},n={};try{return n.__proto__=c,n.a}catch(p){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(c,n){c.__proto__=n;if(c.__proto__!==n)throw new TypeError(c+" is not extensible");return c}:null;
$jscomp.inherits=function(c,n){c.prototype=$jscomp.objectCreate(n.prototype);c.prototype.constructor=c;if($jscomp.setPrototypeOf){var p=$jscomp.setPrototypeOf;p(c,n)}else for(p in n)if("prototype"!=p)if(Object.defineProperties){var m=Object.getOwnPropertyDescriptor(n,p);m&&Object.defineProperty(c,p,m)}else c[p]=n[p];c.superClass_=n.prototype};$jscomp.arrayFromIterator=function(c){for(var n,p=[];!(n=c.next()).done;)p.push(n.value);return p};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};$jscomp.checkEs6ConformanceViaProxy=function(){try{var c={},n=Object.create(new $jscomp.global.Proxy(c,{get:function(p,m,g){return p==c&&"q"==m&&g==n}}));return!0===n.q}catch(p){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.owns=function(c,n){return Object.prototype.hasOwnProperty.call(c,n)};$jscomp.polyfill=function(c,n,p,m){if(n){p=$jscomp.global;c=c.split(".");for(m=0;m<c.length-1;m++){var g=c[m];g in p||(p[g]={});p=p[g]}c=c[c.length-1];m=p[c];n=n(m);n!=m&&null!=n&&$jscomp.defineProperty(p,c,{configurable:!0,writable:!0,value:n})}};
$jscomp.polyfill("WeakMap",function(c){function n(){if(!c||!Object.seal)return!1;try{var x=Object.seal({}),f=Object.seal({}),k=new c([[x,2],[f,3]]);if(2!=k.get(x)||3!=k.get(f))return!1;k.delete(x);k.set(f,4);return!k.has(x)&&4==k.get(f)}catch(W){return!1}}function p(c){$jscomp.owns(c,g)||$jscomp.defineProperty(c,g,{value:{}})}function m(c){var f=Object[c];f&&(Object[c]=function(c){p(c);return f(c)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(n())return c;
var g="$jscomp_hidden_"+Math.random();m("freeze");m("preventExtensions");m("seal");var I=0,k=function(c){this.id_=(I+=Math.random()+1).toString();if(c){$jscomp.initSymbol();$jscomp.initSymbolIterator();c=$jscomp.makeIterator(c);for(var f;!(f=c.next()).done;)f=f.value,this.set(f[0],f[1])}};k.prototype.set=function(c,f){p(c);if(!$jscomp.owns(c,g))throw Error("WeakMap key fail: "+c);c[g][this.id_]=f;return this};k.prototype.get=function(c){return $jscomp.owns(c,g)?c[g][this.id_]:void 0};k.prototype.has=
function(c){return $jscomp.owns(c,g)&&$jscomp.owns(c[g],this.id_)};k.prototype.delete=function(c){return $jscomp.owns(c,g)&&$jscomp.owns(c[g],this.id_)?delete c[g][this.id_]:!1};return k},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(c){function n(){if($jscomp.ASSUME_NO_NATIVE_MAP||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var f=Object.seal({x:4}),k=new c($jscomp.makeIterator([[f,"s"]]));if("s"!=k.get(f)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;var g=k.entries(),m=g.next();if(m.done||m.value[0]!=f||"s"!=m.value[1])return!1;m=g.next();return m.done||4!=m.value[0].x||"t"!=m.value[1]||!g.next().done?!1:!0}catch(z){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(n())return c;$jscomp.initSymbol();$jscomp.initSymbolIterator();var p=new WeakMap,m=function(c){this.data_={};this.head_=k();this.size=0;if(c){c=$jscomp.makeIterator(c);for(var f;!(f=c.next()).done;)f=f.value,this.set(f[0],f[1])}};m.prototype.set=function(c,k){c=0===c?0:c;var f=g(this,c);f.list||(f.list=this.data_[f.id]=[]);f.entry?f.entry.value=k:(f.entry={next:this.head_,previous:this.head_.previous,head:this.head_,
key:c,value:k},f.list.push(f.entry),this.head_.previous.next=f.entry,this.head_.previous=f.entry,this.size++);return this};m.prototype.delete=function(c){c=g(this,c);return c.entry&&c.list?(c.list.splice(c.index,1),c.list.length||delete this.data_[c.id],c.entry.previous.next=c.entry.next,c.entry.next.previous=c.entry.previous,c.entry.head=null,this.size--,!0):!1};m.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=k();this.size=0};m.prototype.has=function(c){return!!g(this,c).entry};
m.prototype.get=function(c){return(c=g(this,c).entry)&&c.value};m.prototype.entries=function(){return I(this,function(c){return[c.key,c.value]})};m.prototype.keys=function(){return I(this,function(c){return c.key})};m.prototype.values=function(){return I(this,function(c){return c.value})};m.prototype.forEach=function(c,k){for(var f=this.entries(),m;!(m=f.next()).done;)m=m.value,c.call(k,m[1],m[0],this)};m.prototype[Symbol.iterator]=m.prototype.entries;var g=function(c,k){var f=k&&typeof k;"object"==
f||"function"==f?p.has(k)?f=p.get(k):(f=""+ ++x,p.set(k,f)):f="p_"+k;var m=c.data_[f];if(m&&$jscomp.owns(c.data_,f))for(c=0;c<m.length;c++){var g=m[c];if(k!==k&&g.key!==g.key||k===g.key)return{id:f,list:m,index:c,entry:g}}return{id:f,list:m,index:-1,entry:void 0}},I=function(c,k){var f=c.head_;return $jscomp.iteratorPrototype(function(){if(f){for(;f.head!=c.head_;)f=f.previous;for(;f.next!=f.head;)return f=f.next,{done:!1,value:k(f)};f=null}return{done:!0,value:void 0}})},k=function(){var c={};return c.previous=
c.next=c.head=c},x=0;return m},"es6","es3");
$jscomp.polyfill("Set",function(c){function n(){if($jscomp.ASSUME_NO_NATIVE_SET||!c||"function"!=typeof c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var m=Object.seal({x:4}),g=new c($jscomp.makeIterator([m]));if(!g.has(m)||1!=g.size||g.add(m)!=g||1!=g.size||g.add({x:4})!=g||2!=g.size)return!1;var n=g.entries(),k=n.next();if(k.done||k.value[0]!=m||k.value[1]!=m)return!1;k=n.next();return k.done||k.value[0]==m||4!=k.value[0].x||k.value[1]!=k.value[0]?!1:n.next().done}catch(x){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE)return c}else if(n())return c;$jscomp.initSymbol();$jscomp.initSymbolIterator();var p=function(c){this.map_=new Map;if(c){c=$jscomp.makeIterator(c);for(var m;!(m=c.next()).done;)this.add(m.value)}this.size=this.map_.size};p.prototype.add=function(c){c=0===c?0:c;this.map_.set(c,c);this.size=this.map_.size;return this};p.prototype.delete=function(c){c=this.map_.delete(c);this.size=this.map_.size;return c};p.prototype.clear=
function(){this.map_.clear();this.size=0};p.prototype.has=function(c){return this.map_.has(c)};p.prototype.entries=function(){return this.map_.entries()};p.prototype.values=function(){return this.map_.values()};p.prototype.keys=p.prototype.values;p.prototype[Symbol.iterator]=p.prototype.values;p.prototype.forEach=function(c,g){var m=this;this.map_.forEach(function(k){return c.call(g,k,k,m)})};return p},"es6","es3");$jscomp.polyfill("Number.EPSILON",function(c){return Math.pow(2,-52)},"es6","es3");
$jscomp.iteratorFromArray=function(c,n){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var p=0,m={next:function(){if(p<c.length){var g=p++;return{value:n(g,c[g]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,p){return p})}},"es8","es3");
$jscomp.polyfill("Array.prototype.entries",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,p){return[c,p]})}},"es6","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function n(){this.batch_=null}function p(c){return c instanceof g?c:new g(function(k,f){k(c)})}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;n.prototype.asyncExecute=function(c){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(c);return this};n.prototype.asyncExecuteBatch_=function(){var c=this;this.asyncExecuteFunction(function(){c.executeBatch_()})};var m=$jscomp.global.setTimeout;n.prototype.asyncExecuteFunction=function(c){m(c,
0)};n.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var c=this.batch_;this.batch_=[];for(var g=0;g<c.length;++g){var f=c[g];c[g]=null;try{f()}catch(H){this.asyncThrow_(H)}}}this.batch_=null};n.prototype.asyncThrow_=function(c){this.asyncExecuteFunction(function(){throw c;})};var g=function(c){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var k=this.createResolveAndReject_();try{c(k.resolve,k.reject)}catch(f){k.reject(f)}};g.prototype.createResolveAndReject_=
function(){function c(c){return function(k){f||(f=!0,c.call(g,k))}}var g=this,f=!1;return{resolve:c(this.resolveTo_),reject:c(this.reject_)}};g.prototype.resolveTo_=function(c){if(c===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof g)this.settleSameAsPromise_(c);else{a:switch(typeof c){case "object":var k=null!=c;break a;case "function":k=!0;break a;default:k=!1}k?this.resolveToNonPromiseObj_(c):this.fulfill_(c)}};g.prototype.resolveToNonPromiseObj_=function(c){var k=
void 0;try{k=c.then}catch(f){this.reject_(f);return}"function"==typeof k?this.settleSameAsThenable_(k,c):this.fulfill_(c)};g.prototype.reject_=function(c){this.settle_(2,c)};g.prototype.fulfill_=function(c){this.settle_(1,c)};g.prototype.settle_=function(c,g){if(0!=this.state_)throw Error("Cannot settle("+c+", "+g+"): Promise already settled in state"+this.state_);this.state_=c;this.result_=g;this.executeOnSettledCallbacks_()};g.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var c=
0;c<this.onSettledCallbacks_.length;++c)I.asyncExecute(this.onSettledCallbacks_[c]);this.onSettledCallbacks_=null}};var I=new n;g.prototype.settleSameAsPromise_=function(c){var k=this.createResolveAndReject_();c.callWhenSettled_(k.resolve,k.reject)};g.prototype.settleSameAsThenable_=function(c,g){var f=this.createResolveAndReject_();try{c.call(g,f.resolve,f.reject)}catch(H){f.reject(H)}};g.prototype.then=function(c,m){function f(c,e){return"function"==typeof c?function(e){try{k(c(e))}catch(xa){n(xa)}}:
e}var k,n,p=new g(function(c,e){k=c;n=e});this.callWhenSettled_(f(c,k),f(m,n));return p};g.prototype.catch=function(c){return this.then(void 0,c)};g.prototype.callWhenSettled_=function(c,g){function f(){switch(k.state_){case 1:c(k.result_);break;case 2:g(k.result_);break;default:throw Error("Unexpected state: "+k.state_);}}var k=this;null==this.onSettledCallbacks_?I.asyncExecute(f):this.onSettledCallbacks_.push(f)};g.resolve=p;g.reject=function(c){return new g(function(k,f){f(c)})};g.race=function(c){return new g(function(g,
f){for(var k=$jscomp.makeIterator(c),m=k.next();!m.done;m=k.next())p(m.value).callWhenSettled_(g,f)})};g.all=function(c){var k=$jscomp.makeIterator(c),f=k.next();return f.done?p([]):new g(function(c,g){function m(f){return function(g){n[f]=g;e--;0==e&&c(n)}}var n=[],e=0;do n.push(void 0),e++,p(f.value).callWhenSettled_(m(n.length-1),g),f=k.next();while(!f.done)})};return g},"es6","es3");
(function(c,n){"object"===typeof exports&&"undefined"!==typeof module?n(exports):"function"===typeof define&&define.amd?define(["exports"],n):n(c.YUKA={})})(this,function(c){function n(a,b){return a<b?-1:a>b?1:0}function p(a,b){return a.cost<b.cost?-1:a.cost>b.cost?1:0}function m(a,b){return a.cost<b.cost?-1:a.cost>b.cost?1:0}function g(a,b){return a.cost<b.cost?1:a.cost>b.cost?-1:0}function I(a,b){return"string"!==typeof a||""===a?"":/^(https?:)?\/\//i.test(a)||/^data:.*,.*$/i.test(a)||/^blob:.*$/i.test(a)?
a:b+a}var k=function(a,b,d,r,c){this.sender=a;this.receiver=b;this.message=d;this.delay=r;this.data=c},x=function(){};x.setLevel=function(a){f=a};x.log=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];f<=x.LEVEL.LOG&&console.log.apply(console,$jscomp.arrayFromIterable(b))};x.warn=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-0]=arguments[d];f<=x.LEVEL.WARN&&console.warn.apply(console,$jscomp.arrayFromIterable(b))};x.error=function(a){for(var b=[],d=0;d<arguments.length;++d)b[d-
0]=arguments[d];f<=x.LEVEL.ERROR&&console.error.apply(console,$jscomp.arrayFromIterable(b))};x.LEVEL=Object.freeze({LOG:0,WARN:1,ERROR:2,SILENT:3});var f=x.LEVEL.WARN,H=function(){this.delayedTelegrams=[]};H.prototype.deliver=function(a){var b=a.receiver;!1===b.handleMessage(a)&&x.warn("YUKA.MessageDispatcher: Message not handled by receiver: %o",b);return this};H.prototype.dispatch=function(a,b,d,r,c){a=new k(a,b,d,r,c);0>=r?this.deliver(a):this.delayedTelegrams.push(a);return this};H.prototype.dispatchDelayedMessages=
function(a){for(var b=this.delayedTelegrams.length;b--;){var d=this.delayedTelegrams[b];d.delay-=a;0>=d.delay&&(this.deliver(d),this.delayedTelegrams.pop())}return this};H.prototype.clear=function(){this.delayedTelegrams.length=0;return this};var W=[],E=function(){this.entities=[];this.triggers=[];this.spatialIndex=null;this._entityMap=new Map;this._indexMap=new Map;this._started=new Set;this._messageDispatcher=new H};E.prototype.add=function(a){this.entities.push(a);this._entityMap.set(a.id,a);a.manager=
this;return this};E.prototype.remove=function(a){var b=this.entities.indexOf(a);this.entities.splice(b,1);this._entityMap.delete(a.id);this._started.delete(a);a.manager=null;return this};E.prototype.addTrigger=function(a){this.triggers.push(a);return this};E.prototype.removeTrigger=function(a){a=this.triggers.indexOf(a);this.triggers.splice(a,1);return this};E.prototype.clear=function(){this.entities.length=0;this.triggers.length=0;this._entityMap.clear();this._started.clear();this._messageDispatcher.clear();
return this};E.prototype.getEntityById=function(a){return this._entityMap.get(a)||null};E.prototype.getEntityByName=function(a){for(var b=this.entities,d=0,r=b.length;d<r;d++){var c=b[d];if(c.name===a)return c}return null};E.prototype.update=function(a){for(var b=this.entities,d=this.triggers,r=0,c=b.length;r<c;r++)this.updateEntity(b[r],a);b=0;for(c=d.length;b<c;b++)this.updateTrigger(d[b],a);this._messageDispatcher.dispatchDelayedMessages(a);return this};E.prototype.updateEntity=function(a,b){if(!0===
a.active){this.updateNeighborhood(a);!1===this._started.has(a)&&(a.start(),this._started.add(a));a.update(b);a.updateWorldMatrix();b=a.children;for(var d=0,r=b.length;d<r;d++)this.updateEntity(b[d]);null!==this.spatialIndex&&(b=this._indexMap.get(a)||-1,b=this.spatialIndex.updateEntity(a,b),this._indexMap.set(a,b))}return this};E.prototype.updateNeighborhood=function(a){if(!0===a.updateNeighborhood){a.neighbors.length=0;null!==this.spatialIndex?this.spatialIndex.query(a.position,a.neighborhoodRadius,
W):(W.length=0,W.push.apply(W,$jscomp.arrayFromIterable(this.entities)));for(var b=a.neighborhoodRadius*a.neighborhoodRadius,d=0,r=W.length;d<r;d++){var c=W[d];a!==c&&!0===c.active&&a.position.squaredDistanceTo(c.position)<=b&&a.neighbors.push(c)}}return this};E.prototype.updateTrigger=function(a,b){if(!0===a.active){a.update(b);b=this.entities;for(var d=0,r=b.length;d<r;d++){var c=b[d];!0===c.active&&a.check(c)}}return this};E.prototype.sendMessage=function(a,b,d,r,c){this._messageDispatcher.dispatch(a,
b,d,r,c);return this};var z=function(){};z.clamp=function(a,b,d){return Math.max(b,Math.min(d,a))};z.randFloat=function(a,b){return a+Math.random()*(b-a)};z.area=function(a,b,d){return(d.x-a.x)*(b.z-a.z)-(b.x-a.x)*(d.z-a.z)};var e=function(a,b,d){this.x=void 0===a?0:a;this.y=void 0===b?0:b;this.z=void 0===d?0:d};e.prototype.set=function(a,b,d){this.x=a;this.y=b;this.z=d;return this};e.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};e.prototype.clone=function(){return(new this.constructor).copy(this)};
e.prototype.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};e.prototype.addScalar=function(a){this.x+=a;this.y+=a;this.z+=a;return this};e.prototype.addVectors=function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this};e.prototype.sub=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};e.prototype.subScalar=function(a){this.x-=a;this.y-=a;this.z-=a;return this};e.prototype.subVectors=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this};e.prototype.multiply=
function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this};e.prototype.multiplyScalar=function(a){this.x*=a;this.y*=a;this.z*=a;return this};e.prototype.multiplyVectors=function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this};e.prototype.divide=function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this};e.prototype.divideScalar=function(a){this.x/=a;this.y/=a;this.z/=a;return this};e.prototype.divideVectors=function(a,b){this.x=a.x/b.x;this.y=a.y/b.y;this.z=a.z/b.z;return this};
e.prototype.clamp=function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this};e.prototype.min=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this};e.prototype.max=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this};e.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};e.prototype.cross=
function(a){var b=this.x,d=this.y,r=this.z;this.x=d*a.z-r*a.y;this.y=r*a.x-b*a.z;this.z=b*a.y-d*a.x;return this};e.prototype.crossVectors=function(a,b){var d=a.x,r=a.y;a=a.z;var c=b.x,l=b.y;b=b.z;this.x=r*b-a*l;this.y=a*c-d*b;this.z=d*l-r*c;return this};e.prototype.angleTo=function(a){a=this.dot(a)/Math.sqrt(this.squaredLength()*a.squaredLength());return Math.acos(z.clamp(a,-1,1))};e.prototype.length=function(){return Math.sqrt(this.squaredLength())};e.prototype.squaredLength=function(){return this.dot(this)};
e.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)};e.prototype.distanceTo=function(a){return Math.sqrt(this.squaredDistanceTo(a))};e.prototype.squaredDistanceTo=function(a){var b=this.x-a.x,d=this.y-a.y;a=this.z-a.z;return b*b+d*d+a*a};e.prototype.manhattanDistanceTo=function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)};e.prototype.normalize=function(){return this.divideScalar(this.length()||1)};e.prototype.applyMatrix4=function(a){var b=
this.x,d=this.y,r=this.z;a=a.elements;var c=1/(a[3]*b+a[7]*d+a[11]*r+a[15]);this.x=(a[0]*b+a[4]*d+a[8]*r+a[12])*c;this.y=(a[1]*b+a[5]*d+a[9]*r+a[13])*c;this.z=(a[2]*b+a[6]*d+a[10]*r+a[14])*c;return this};e.prototype.applyRotation=function(a){var b=this.x,d=this.y,r=this.z,c=a.x,l=a.y,q=a.z;a=a.w;var e=a*b+l*r-q*d,f=a*d+q*b-c*r,g=a*r+c*d-l*b;b=-c*b-l*d-q*r;this.x=e*a+b*-c+f*-q-g*-l;this.y=f*a+b*-l+g*-c-e*-q;this.z=g*a+b*-q+e*-l-f*-c;return this};e.prototype.fromMatrix3Column=function(a,b){return this.fromArray(a.elements,
3*b)};e.prototype.fromMatrix4Column=function(a,b){return this.fromArray(a.elements,4*b)};e.prototype.fromSpherical=function(a,b,d){var c=Math.sin(b)*a;this.x=c*Math.sin(d);this.y=Math.cos(b)*a;this.z=c*Math.cos(d);return this};e.prototype.fromArray=function(a,b){b=void 0===b?0:b;this.x=a[b+0];this.y=a[b+1];this.z=a[b+2];return this};e.prototype.toArray=function(a,b){b=void 0===b?0:b;a[b+0]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a};e.prototype.equals=function(a){return a.x===this.x&&a.y===this.y&&
a.z===this.z};var Ra=new e(0,1,0),xa=new e,ja=new e,qb=new e,rb=new e,y=function(){this.elements=[1,0,0,0,1,0,0,0,1]};y.prototype.set=function(a,b,d,c,h,l,q,e,f){var r=this.elements;r[0]=a;r[3]=b;r[6]=d;r[1]=c;r[4]=h;r[7]=l;r[2]=q;r[5]=e;r[8]=f;return this};y.prototype.copy=function(a){var b=this.elements;a=a.elements;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return this};y.prototype.clone=function(){return(new this.constructor).copy(this)};y.prototype.identity=
function(){this.set(1,0,0,0,1,0,0,0,1);return this};y.prototype.multiply=function(a){return this.multiplyMatrices(this,a)};y.prototype.premultiply=function(a){return this.multiplyMatrices(a,this)};y.prototype.multiplyMatrices=function(a,b){var d=a.elements,c=b.elements;b=this.elements;a=d[0];var h=d[3],l=d[6],q=d[1],e=d[4],f=d[7],g=d[2],k=d[5];d=d[8];var m=c[0],n=c[3],p=c[6],Sa=c[1],J=c[4],Q=c[7],R=c[2],x=c[5];c=c[8];b[0]=a*m+h*Sa+l*R;b[3]=a*n+h*J+l*x;b[6]=a*p+h*Q+l*c;b[1]=q*m+e*Sa+f*R;b[4]=q*n+e*
J+f*x;b[7]=q*p+e*Q+f*c;b[2]=g*m+k*Sa+d*R;b[5]=g*n+k*J+d*x;b[8]=g*p+k*Q+d*c;return this};y.prototype.multiplyScalar=function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this};y.prototype.extractBasis=function(a,b,d){a.fromMatrix3Column(this,0);b.fromMatrix3Column(this,1);d.fromMatrix3Column(this,2);return this};y.prototype.makeBasis=function(a,b,d){this.set(a.x,b.x,d.x,a.y,b.y,d.y,a.z,b.z,d.z);return this};y.prototype.lookAt=function(a,b,d){xa.crossVectors(d,
a).normalize();ja.crossVectors(Ra,b).normalize();0===ja.squaredLength()&&(rb.copy(b).addScalar(Number.EPSILON),ja.crossVectors(Ra,rb).normalize());qb.crossVectors(b,ja).normalize();sb.makeBasis(ja,qb,b);tb.makeBasis(xa,d,a);this.multiplyMatrices(sb,tb.transpose());return this};y.prototype.transpose=function(){var a=this.elements;var b=a[1];a[1]=a[3];a[3]=b;b=a[2];a[2]=a[6];a[6]=b;b=a[5];a[5]=a[7];a[7]=b;return this};y.prototype.fromQuaternion=function(a){var b=this.elements,d=a.x,c=a.y,h=a.z,l=a.w,
q=d+d,e=c+c,f=h+h;a=d*q;var g=d*e;d*=f;var k=c*e;c*=f;h*=f;q*=l;e*=l;l*=f;b[0]=1-(k+h);b[3]=g-l;b[6]=d+e;b[1]=g+l;b[4]=1-(a+h);b[7]=c-q;b[2]=d-e;b[5]=c+q;b[8]=1-(a+k);return this};y.prototype.fromArray=function(a,b){b=void 0===b?0:b;for(var d=this.elements,c=0;9>c;c++)d[c]=a[c+b];return this};y.prototype.toArray=function(a,b){b=void 0===b?0:b;var d=this.elements;a[b+0]=d[0];a[b+1]=d[1];a[b+2]=d[2];a[b+3]=d[3];a[b+4]=d[4];a[b+5]=d[5];a[b+6]=d[6];a[b+7]=d[7];a[b+8]=d[8];return a};y.prototype.equals=
function(a){var b=this.elements;a=a.elements;for(var d=0;9>d;d++)if(b[d]!==a[d])return!1;return!0};var sb=new y,tb=new y,ub=new y,v=function(a,b,d,c){this.x=void 0===a?0:a;this.y=void 0===b?0:b;this.z=void 0===d?0:d;this.w=void 0===c?1:c};v.prototype.set=function(a,b,d,c){this.x=a;this.y=b;this.z=d;this.w=c;return this};v.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this};v.prototype.clone=function(){return(new this.constructor).copy(this)};v.prototype.inverse=function(){return this.conjugate().normalize()};
v.prototype.conjugate=function(){this.x*=-1;this.y*=-1;this.z*=-1;return this};v.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w};v.prototype.length=function(){return Math.sqrt(this.squaredLength())};v.prototype.squaredLength=function(){return this.dot(this)};v.prototype.normalize=function(){var a=this.length();0===a?(this.z=this.y=this.x=0,this.w=1):(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a);return this};v.prototype.multiply=function(a){return this.multiplyQuaternions(this,
a)};v.prototype.premultiply=function(a){return this.multiplyQuaternions(a,this)};v.prototype.multiplyQuaternions=function(a,b){var d=a.x,c=a.y,h=a.z;a=a.w;var l=b.x,q=b.y,e=b.z;b=b.w;this.x=d*b+a*l+c*e-h*q;this.y=c*b+a*q+h*l-d*e;this.z=h*b+a*e+d*q-c*l;this.w=a*b-d*l-c*q-h*e;return this};v.prototype.angleTo=function(a){return 2*Math.acos(Math.abs(z.clamp(this.dot(a),-1,1)))};v.prototype.rotateTo=function(a,b){var d=this.angleTo(a);if(0===d)return this;this.slerp(a,Math.min(1,b/d));return this};v.prototype.lookAt=
function(a,b,d){ub.lookAt(a,b,d);this.fromMatrix3(ub)};v.prototype.slerp=function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var d=this.x,c=this.y,h=this.z,l=this.w,q=l*a.w+d*a.x+c*a.y+h*a.z;0>q?(this.w=-a.w,this.x=-a.x,this.y=-a.y,this.z=-a.z,q=-q):this.copy(a);if(1<=q)return this.w=l,this.x=d,this.y=c,this.z=h,this;a=Math.sqrt(1-q*q);if(.001>Math.abs(a))return this.w=.5*(l+this.w),this.x=.5*(d+this.x),this.y=.5*(c+this.y),this.z=.5*(h+this.z),this;var e=Math.atan2(a,q);q=Math.sin((1-
b)*e)/a;b=Math.sin(b*e)/a;this.w=l*q+this.w*b;this.x=d*q+this.x*b;this.y=c*q+this.y*b;this.z=h*q+this.z*b;return this};v.prototype.fromEuler=function(a,b,d){var c=Math.cos(a/2),h=Math.cos(b/2),l=Math.cos(d/2);a=Math.sin(a/2);b=Math.sin(b/2);d=Math.sin(d/2);this.x=a*h*l+c*b*d;this.y=c*b*l-a*h*d;this.z=c*h*d+a*b*l;this.w=c*h*l-a*b*d;return this};v.prototype.fromMatrix3=function(a){var b=a.elements,d=b[0];a=b[3];var c=b[6],h=b[1],l=b[4],q=b[7],e=b[2],f=b[5];b=b[8];var g=d+l+b;0<g?(d=.5/Math.sqrt(g+1),
this.w=.25/d,this.x=(f-q)*d,this.y=(c-e)*d,this.z=(h-a)*d):d>l&&d>b?(d=2*Math.sqrt(1+d-l-b),this.w=(f-q)/d,this.x=.25*d,this.y=(a+h)/d,this.z=(c+e)/d):l>b?(d=2*Math.sqrt(1+l-d-b),this.w=(c-e)/d,this.x=(a+h)/d,this.y=.25*d,this.z=(q+f)/d):(d=2*Math.sqrt(1+b-d-l),this.w=(h-a)/d,this.x=(c+e)/d,this.y=(q+f)/d,this.z=.25*d);return this};v.prototype.fromArray=function(a,b){b=void 0===b?0:b;this.x=a[b+0];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this};v.prototype.toArray=function(a,b){b=void 0===
b?0:b;a[b+0]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a};v.prototype.equals=function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w};var w=function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};w.prototype.set=function(a,b,d,c,h,l,q,e,f,g,k,m,n,p,x,J){var r=this.elements;r[0]=a;r[4]=b;r[8]=d;r[12]=c;r[1]=h;r[5]=l;r[9]=q;r[13]=e;r[2]=f;r[6]=g;r[10]=k;r[14]=m;r[3]=n;r[7]=p;r[11]=x;r[15]=J;return this};w.prototype.copy=function(a){var b=this.elements;a=a.elements;
b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this};w.prototype.clone=function(){return(new this.constructor).copy(this)};w.prototype.identity=function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this};w.prototype.multiply=function(a){return this.multiplyMatrices(this,a)};w.prototype.premultiply=function(a){return this.multiplyMatrices(a,this)};w.prototype.multiplyMatrices=
function(a,b){var d=a.elements,c=b.elements;b=this.elements;a=d[0];var h=d[4],l=d[8],q=d[12],e=d[1],f=d[5],g=d[9],k=d[13],m=d[2],n=d[6],p=d[10],x=d[14],J=d[3],Q=d[7],R=d[11];d=d[15];var t=c[0],u=c[4],v=c[8],w=c[12],A=c[1],y=c[5],z=c[9],B=c[13],C=c[2],D=c[6],E=c[10],F=c[14],G=c[3],H=c[7],I=c[11];c=c[15];b[0]=a*t+h*A+l*C+q*G;b[4]=a*u+h*y+l*D+q*H;b[8]=a*v+h*z+l*E+q*I;b[12]=a*w+h*B+l*F+q*c;b[1]=e*t+f*A+g*C+k*G;b[5]=e*u+f*y+g*D+k*H;b[9]=e*v+f*z+g*E+k*I;b[13]=e*w+f*B+g*F+k*c;b[2]=m*t+n*A+p*C+x*G;b[6]=m*
u+n*y+p*D+x*H;b[10]=m*v+n*z+p*E+x*I;b[14]=m*w+n*B+p*F+x*c;b[3]=J*t+Q*A+R*C+d*G;b[7]=J*u+Q*y+R*D+d*H;b[11]=J*v+Q*z+R*E+d*I;b[15]=J*w+Q*B+R*F+d*c;return this};w.prototype.multiplyScalar=function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this};w.prototype.extractBasis=function(a,b,d){a.fromMatrix4Column(this,0);b.fromMatrix4Column(this,1);d.fromMatrix4Column(this,2);return this};
w.prototype.makeBasis=function(a,b,d){this.set(a.x,b.x,d.x,0,a.y,b.y,d.y,0,a.z,b.z,d.z,0,0,0,0,1);return this};w.prototype.compose=function(a,b,d){this.fromQuaternion(b);this.scale(d);this.setPosition(a);return this};w.prototype.scale=function(a){var b=this.elements,d=a.x,c=a.y;a=a.z;b[0]*=d;b[4]*=c;b[8]*=a;b[1]*=d;b[5]*=c;b[9]*=a;b[2]*=d;b[6]*=c;b[10]*=a;b[3]*=d;b[7]*=c;b[11]*=a;return this};w.prototype.setPosition=function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this};w.prototype.transpose=
function(){var a=this.elements;var b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this};w.prototype.getInverse=function(a){var b=this.elements,d=a.elements,c=d[0],h=d[1],l=d[2],q=d[3],e=d[4],f=d[5],g=d[6],k=d[7],m=d[8],n=d[9],p=d[10],t=d[11],u=d[12],v=d[13],w=d[14];d=d[15];var y=n*w*k-v*p*k+v*g*t-f*w*t-n*g*d+f*p*d,z=u*p*k-m*w*k-u*g*t+e*w*t+m*g*d-e*p*d,B=m*v*k-u*n*k+u*f*t-e*v*t-m*f*d+e*n*
d,C=u*n*g-m*v*g-u*f*p+e*v*p+m*f*w-e*n*w,A=c*y+h*z+l*B+q*C;if(0===A)return x.warn("YUKA.Matrix4: .getInverse() can not invert matrix, determinant is 0."),this.identity();A=1/A;b[0]=y*A;b[1]=(v*p*q-n*w*q-v*l*t+h*w*t+n*l*d-h*p*d)*A;b[2]=(f*w*q-v*g*q+v*l*k-h*w*k-f*l*d+h*g*d)*A;b[3]=(n*g*q-f*p*q-n*l*k+h*p*k+f*l*t-h*g*t)*A;b[4]=z*A;b[5]=(m*w*q-u*p*q+u*l*t-c*w*t-m*l*d+c*p*d)*A;b[6]=(u*g*q-e*w*q-u*l*k+c*w*k+e*l*d-c*g*d)*A;b[7]=(e*p*q-m*g*q+m*l*k-c*p*k-e*l*t+c*g*t)*A;b[8]=B*A;b[9]=(u*n*q-m*v*q-u*h*t+c*v*t+
m*h*d-c*n*d)*A;b[10]=(e*v*q-u*f*q+u*h*k-c*v*k-e*h*d+c*f*d)*A;b[11]=(m*f*q-e*n*q-m*h*k+c*n*k+e*h*t-c*f*t)*A;b[12]=C*A;b[13]=(m*v*l-u*n*l+u*h*p-c*v*p-m*h*w+c*n*w)*A;b[14]=(u*f*l-e*v*l-u*h*g+c*v*g+e*h*w-c*f*w)*A;b[15]=(e*n*l-m*f*l+m*h*g-c*n*g-e*h*p+c*f*p)*A;return a};w.prototype.fromQuaternion=function(a){var b=this.elements,d=a.x,c=a.y,h=a.z,l=a.w,e=d+d,f=c+c,g=h+h;a=d*e;var k=d*f;d*=g;var m=c*f;c*=g;h*=g;e*=l;f*=l;l*=g;b[0]=1-(m+h);b[4]=k-l;b[8]=d+f;b[1]=k+l;b[5]=1-(a+h);b[9]=c-e;b[2]=d-f;b[6]=c+e;
b[10]=1-(a+m);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this};w.prototype.fromArray=function(a,b){b=void 0===b?0:b;for(var d=this.elements,c=0;16>c;c++)d[c]=a[c+b];return this};w.prototype.toArray=function(a,b){b=void 0===b?0:b;var d=this.elements;a[b+0]=d[0];a[b+1]=d[1];a[b+2]=d[2];a[b+3]=d[3];a[b+4]=d[4];a[b+5]=d[5];a[b+6]=d[6];a[b+7]=d[7];a[b+8]=d[8];a[b+9]=d[9];a[b+10]=d[10];a[b+11]=d[11];a[b+12]=d[12];a[b+13]=d[13];a[b+14]=d[14];a[b+15]=d[15];return a};w.prototype.equals=function(a){var b=
this.elements;a=a.elements;for(var d=0;16>d;d++)if(b[d]!==a[d])return!1;return!0};var Yb=0,vb=new v,ya=new e,D=function(){this.id=Yb++;this.name="";this.active=!0;this.children=[];this.parent=null;this.neighbors=[];this.neighborhoodRadius=1;this.updateNeighborhood=!1;this.position=new e;this.rotation=new v;this.scale=new e(1,1,1);this.forward=new e(0,0,1);this.up=new e(0,1,0);this.boundingRadius=0;this.maxTurnRate=Math.PI;this.matrix=new w;this.worldMatrix=new w;this.manager=null;this._cache={position:new e,
rotation:new v,scale:new e}};D.prototype.start=function(){};D.prototype.update=function(){};D.prototype.add=function(a){null!==a.parent&&a.parent.remove(a);this.children.push(a);a.parent=this;return this};D.prototype.remove=function(a){var b=this.children.indexOf(a);this.children.splice(b,1);a.parent=null;return this};D.prototype.getDirection=function(a){return a.copy(this.forward).applyRotation(this.rotation).normalize()};D.prototype.lookAt=function(a){ya.subVectors(a,this.position).normalize();
this.rotation.lookAt(this.forward,ya,this.up);return this};D.prototype.rotateTo=function(a,b){ya.subVectors(a,this.position).normalize();vb.lookAt(this.forward,ya,this.up);this.rotation.rotateTo(vb,this.maxTurnRate*b);return this};D.prototype.updateMatrix=function(){var a=this._cache;if(a.position.equals(this.position)&&a.rotation.equals(this.rotation)&&a.scale.equals(this.scale))return this;this.matrix.compose(this.position,this.rotation,this.scale);a.position.copy(this.position);a.rotation.copy(this.rotation);
a.scale.copy(this.scale);return this};D.prototype.updateWorldMatrix=function(a,b){b=void 0===b?!1:b;var d=this.parent,c=this.children;!0===(void 0===a?!1:a)&&null!==d&&d.updateWorldMatrix(!0);this.updateMatrix();null===d?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiplyMatrices(this.parent.worldMatrix,this.matrix);if(!0===b)for(a=0,b=c.length;a<b;a++)c[a].updateWorldMatrix(!1,!0);return this};D.prototype.handleMessage=function(){return!1};D.prototype.sendMessage=function(a,b,d,c){null!==
this.manager?this.manager.sendMessage(this,a,b,void 0===d?0:d,void 0===c?null:c):x.error("YUKA.GameEntity: The game entity must be added to a manager in order to send a message.");return this};var wb=new e,Ta=new e,X=function(){var a=D.call(this)||this;a.velocity=new e;a.maxSpeed=1;a.updateOrientation=!0;return a};$jscomp.inherits(X,D);X.prototype.update=function(a){this.getSpeedSquared()>this.maxSpeed*this.maxSpeed&&(this.velocity.normalize(),this.velocity.multiplyScalar(this.maxSpeed));wb.copy(this.velocity).multiplyScalar(a);
Ta.copy(this.position).add(wb);this.updateOrientation&&1e-8<this.getSpeedSquared()&&this.lookAt(Ta);this.position.copy(Ta)};X.prototype.getSpeed=function(){return this.velocity.length()};X.prototype.getSpeedSquared=function(){return this.velocity.squaredLength()};var ca=function(){this.currentTime=this.previousTime=this.startTime=0};ca.prototype.getDelta=function(){return(this.currentTime-this.previousTime)/1E3};ca.prototype.getElapsed=function(){return(this.currentTime-this.startTime)/1E3};ca.prototype.update=
function(){this.previousTime=this.currentTime;this.currentTime=this.now();return this};ca.prototype.now=function(){return("undefined"===typeof performance?Date:performance).now()};var xb=function(a){this.updateFrequency=void 0===a?0:a;this._time=new ca;this._nextUpdateTime=0};xb.prototype.ready=function(){this._time.update();return this._time.currentTime>=this._nextUpdateTime?(this._nextUpdateTime=this._time.currentTime+1E3/this.updateFrequency,!0):!1};var da=function(){};da.prototype.enter=function(){};
da.prototype.execute=function(){};da.prototype.exit=function(){};da.prototype.onMessage=function(){return!1};var K=function(a){this.owner=a;this.globalState=this.previousState=this.currentState=null;this.states=new Map};K.prototype.update=function(){null!==this.globalState&&this.globalState.execute(this.owner);null!==this.currentState&&this.currentState.execute(this.owner);return this};K.prototype.add=function(a,b){b instanceof da?this.states.set(a,b):x.warn('YUKA.StateMachine: .add() needs a parameter of type "YUKA.State".');
return this};K.prototype.remove=function(a){this.states.delete(a);return this};K.prototype.get=function(a){return this.states.get(a)};K.prototype.changeTo=function(a){a=this.get(a);this._change(a);return this};K.prototype.revert=function(){this._change(this.previousState);return this};K.prototype.in=function(a){return this.get(a)===this.currentState};K.prototype.handleMessage=function(a){return null!==this.currentState&&!0===this.currentState.onMessage(this.owner,a)||null!==this.globalState&&!0===
this.globalState.onMessage(this.owner,a)?!0:!1};K.prototype._change=function(a){this.previousState=this.currentState;this.currentState.exit(this.owner);this.currentState=a;this.currentState.enter(this.owner)};var t=function(a){this.owner=void 0===a?null:a;this.status=t.STATUS.INACTIVE};t.prototype.activate=function(){};t.prototype.execute=function(){};t.prototype.terminate=function(){};t.prototype.handleMessage=function(){return!1};t.prototype.active=function(){return this.status===t.STATUS.ACTIVE};
t.prototype.inactive=function(){return this.status===t.STATUS.INACTIVE};t.prototype.completed=function(){return this.status===t.STATUS.COMPLETED};t.prototype.failed=function(){return this.status===t.STATUS.FAILED};t.prototype.replanIfFailed=function(){!0===this.failed()&&(this.status=t.STATUS.INACTIVE);return this};t.prototype.activateIfInactive=function(){!0===this.inactive()&&(this.activate(),this.status=t.STATUS.ACTIVE);return this};t.STATUS=Object.freeze({ACTIVE:"active",INACTIVE:"inactive",COMPLETED:"completed",
FAILED:"failed"});var L=function(a){a=t.call(this,void 0===a?null:a)||this;a.subgoals=[];return a};$jscomp.inherits(L,t);L.prototype.addSubgoal=function(a){this.subgoals.push(a);return this};L.prototype.clearSubgoals=function(){for(var a=this.subgoals,b=0,d=a.length;b<d;b++)a[b].terminate();a.length=0;return this};L.prototype.currentSubgoal=function(){var a=this.subgoals.length;return 0<a?this.subgoals[a-1]:null};L.prototype.executeSubgoals=function(){for(var a=this.subgoals,b=a.length-1;0<=b;b--){var d=
a[b];if(!0===d.completed()||!0===d.failed())d.terminate(),a.pop();else break}b=this.currentSubgoal();return null!==b?(b.activateIfInactive(),b.execute(),!0===b.completed()&&1<a.length?t.STATUS.ACTIVE:b.status):t.STATUS.COMPLETED};L.prototype.hasSubgoals=function(){return 0<this.subgoals.length};L.prototype.handleMessage=function(a){var b=this.currentSubgoal();return null!==b?b.handleMessage(a):!1};var Ua=function(a){this.characterBias=void 0===a?1:a};Ua.prototype.calculateDesirability=function(){return 0};
Ua.prototype.setGoal=function(){};var S=function(a){a=L.call(this,void 0===a?null:a)||this;a.evaluators=[];return a};$jscomp.inherits(S,L);S.prototype.activate=function(){this.arbitrate()};S.prototype.execute=function(){this.activateIfInactive();var a=this.executeSubgoals();if(a===t.STATUS.COMPLETED||a===t.STATUS.FAILED)this.status=t.STATUS.INACTIVE};S.prototype.terminate=function(){this.clearSubgoals()};S.prototype.addEvaluator=function(a){this.evaluators.push(a);return this};S.prototype.removeEvaluator=
function(a){a=this.evaluators.indexOf(a);this.evaluators.splice(a,1);return this};S.prototype.arbitrate=function(){for(var a=this.evaluators,b=-1,d=null,c=0,h=a.length;c<h;c++){var l=a[c],e=l.calculateDesirability(this.owner);e*=l.characterBias;e>=b&&(b=e,d=l)}null!==d?d.setGoal(this.owner):x.error("YUKA.Think: Unable to determine goal evaluator for game entity:",this.owner);return this};var Y=function(a,b,d){this.from=void 0===a?-1:a;this.to=void 0===b?-1:b;this.cost=void 0===d?0:d};Y.prototype.copy=
function(a){this.from=a.from;this.to=a.to;this.cost=a.cost;return this};Y.prototype.clone=function(){return(new this.constructor).copy(this)};var B=function(){this.digraph=!1;this._nodes=new Map;this._edges=new Map};B.prototype.addNode=function(a){var b=a.index;this._nodes.set(b,a);this._edges.set(b,[]);return this};B.prototype.addEdge=function(a){var b=this._edges.get(a.from);b.push(a);if(!1===this.digraph){var d=a.clone();d.from=a.to;d.to=a.from;b=this._edges.get(a.to);b.push(d)}return this};B.prototype.getNode=
function(a){return this._nodes.get(a)||null};B.prototype.getEdge=function(a,b){if(this.hasNode(a)&&this.hasNode(b)){a=this._edges.get(a);for(var d=0,c=a.length;d<c;d++){var h=a[d];if(h.to===b)return h}}return null};B.prototype.getNodes=function(a){a.length=0;a.push.apply(a,$jscomp.arrayFromIterable(this._nodes.values()));return a};B.prototype.getEdgesOfNode=function(a,b){a=this._edges.get(a);void 0!==a&&(b.length=0,b.push.apply(b,$jscomp.arrayFromIterable(a)));return b};B.prototype.getNodeCount=function(){return this._nodes.size};
B.prototype.getEdgeCount=function(){for(var a=0,b=$jscomp.makeIterator(this._edges.values()),d=b.next();!d.done;d=b.next())a+=d.value.length;return a};B.prototype.removeNode=function(a){this._nodes.delete(a.index);if(!1===this.digraph){var b=this._edges.get(a.index);b=$jscomp.makeIterator(b);for(var d=b.next();!d.done;d=b.next()){d=this._edges.get(d.value.to);for(var c=d.length-1;0<=c;c--){var h=d[c];if(h.to===a.index){c=d.indexOf(h);d.splice(c,1);break}}}}else for(b=$jscomp.makeIterator(this._edges.values()),
d=b.next();!d.done;d=b.next())for(d=d.value,c=d.length-1;0<=c;c--)h=d[c],this.hasNode(h.to)&&this.hasNode(h.from)||(h=d.indexOf(h),d.splice(h,1));this._edges.delete(a.index);return this};B.prototype.removeEdge=function(a){var b=this._edges.get(a.from);if(void 0!==b){var d=b.indexOf(a);b.splice(d,1);if(!1===this.digraph){b=this._edges.get(a.to);d=0;for(var c=b.length;d<c;d++){var h=b[d];if(h.to===a.from){a=b.indexOf(h);b.splice(a,1);break}}}}return this};B.prototype.hasNode=function(a){return this._nodes.has(a)};
B.prototype.hasEdge=function(a,b){if(this.hasNode(a)&&this.hasNode(b)){a=this._edges.get(a);for(var d=0,c=a.length;d<c;d++)if(a[d].to===b)return!0}return!1};B.prototype.clear=function(){this._nodes.clear();this._edges.clear();return this};var Va=function(a){this.index=void 0===a?-1:a},Wa=function(){};Wa.calculate=function(a,b,d){b=a.getNode(b);a=a.getNode(d);return b.position.distanceTo(a.position)};var yb=function(){};yb.calculate=function(a,b,d){b=a.getNode(b);a=a.getNode(d);return b.position.squaredDistanceTo(a.position)};
var zb=function(){};zb.calculate=function(a,b,d){b=a.getNode(b);a=a.getNode(d);return b.position.manhattanDistanceTo(a.position)};var Ab=function(){};Ab.calculate=function(){return 0};var T=function(a){a=void 0===a?n:a;this.data=[];this.length=0;this.compare=a};T.prototype.push=function(a){this.data.push(a);this.length++;this._up(this.length-1)};T.prototype.pop=function(){if(0===this.length)return null;var a=this.data[0];this.length--;0<this.length&&(this.data[0]=this.data[this.length],this._down(0));
this.data.pop();return a};T.prototype.peek=function(){return this.data[0]||null};T.prototype._up=function(a){for(var b=this.data,d=this.compare,c=b[a];0<a;){var h=a-1>>1,l=b[h];if(0<=d(c,l))break;b[a]=l;a=h}b[a]=c};T.prototype._down=function(a){for(var b=this.data,d=this.compare,c=b[a],h=this.length>>1;a<h;){var l=(a<<1)+1,e=l+1,f=b[l];e<this.length&&0>d(b[e],f)&&(l=e,f=b[e]);if(0<=d(f,c))break;b[a]=f;a=l}b[a]=c};var ea=function(a,b,d){this.graph=void 0===a?null:a;this.source=void 0===b?-1:b;this.target=
void 0===d?-1:d;this.found=!1;this.heuristic=Wa;this._cost=new Map;this._shortestPathTree=new Map;this._searchFrontier=new Map};ea.prototype.search=function(){var a=[],b=new T(p);for(b.push({cost:0,index:this.source});0<b.length;){var d=b.pop().index;if(!this._shortestPathTree.has(d)){!0===this._searchFrontier.has(d)&&this._shortestPathTree.set(d,this._searchFrontier.get(d));if(d===this.target)return this.found=!0,this;this.graph.getEdgesOfNode(d,a);for(var c=0,h=a.length;c<h;c++){var l=a[c],e=(this._cost.get(d)||
0)+l.cost,f=this.heuristic.calculate(this.graph,l.to,this.target);f=e+f;if(!1===this._searchFrontier.has(l.to)||e<this._cost.get(l.to))this._cost.set(l.to,e),this._searchFrontier.set(l.to,l),b.push({cost:f,index:l.to})}}}this.found=!1;return this};ea.prototype.getPath=function(){var a=[];if(!1===this.found||-1===this.target)return a;var b=this.target;for(a.push(b);b!==this.source;)b=this._shortestPathTree.get(b).from,a.unshift(b);return a};ea.prototype.getSearchTree=function(){return[].concat($jscomp.arrayFromIterable(this._shortestPathTree.values()))};
ea.prototype.clear=function(){this.found=!1;this._cost.clear();this._shortestPathTree.clear();this._searchFrontier.clear();return this};var ka=function(a,b,d){this.graph=void 0===a?null:a;this.source=void 0===b?-1:b;this.target=void 0===d?-1:d;this.found=!1;this._route=new Map;this._visited=new Set;this._spanningTree=new Set};ka.prototype.search=function(){var a=[],b=[],d=new Y(this.source,this.source);a.push(d);for(this._visited.add(this.source);0<a.length;){var c=a.shift();this._route.set(c.to,
c.from);c!==d&&this._spanningTree.add(c);if(c.to===this.target)return this.found=!0,this;this.graph.getEdgesOfNode(c.to,b);c=0;for(var h=b.length;c<h;c++){var l=b[c];!1===this._visited.has(l.to)&&(a.push(l),this._visited.add(l.to))}}this.found=!1;return this};ka.prototype.getPath=function(){var a=[];if(!1===this.found||-1===this.target)return a;var b=this.target;for(a.push(b);b!==this.source;)b=this._route.get(b),a.unshift(b);return a};ka.prototype.getSearchTree=function(){return[].concat($jscomp.arrayFromIterable(this._spanningTree))};
ka.prototype.clear=function(){this.found=!1;this._route.clear();this._visited.clear();this._spanningTree.clear();return this};var la=function(a,b,d){this.graph=void 0===a?null:a;this.source=void 0===b?-1:b;this.target=void 0===d?-1:d;this.found=!1;this._route=new Map;this._visited=new Set;this._spanningTree=new Set};la.prototype.search=function(){var a=[],b=[],d=new Y(this.source,this.source);for(a.push(d);0<a.length;){var c=a.pop();this._route.set(c.to,c.from);this._visited.add(c.to);c!==d&&this._spanningTree.add(c);
if(c.to===this.target)return this.found=!0,this;this.graph.getEdgesOfNode(c.to,b);c=0;for(var h=b.length;c<h;c++){var l=b[c];!1===this._visited.has(l.to)&&a.push(l)}}this.found=!1;return this};la.prototype.getPath=function(){var a=[];if(!1===this.found||-1===this.target)return a;var b=this.target;for(a.push(b);b!==this.source;)b=this._route.get(b),a.unshift(b);return a};la.prototype.getSearchTree=function(){return[].concat($jscomp.arrayFromIterable(this._spanningTree))};la.prototype.clear=function(){this.found=
!1;this._route.clear();this._visited.clear();this._spanningTree.clear();return this};var ma=function(a,b,d){this.graph=void 0===a?null:a;this.source=void 0===b?-1:b;this.target=void 0===d?-1:d;this.found=!1;this._cost=new Map;this._shortestPathTree=new Map;this._searchFrontier=new Map};ma.prototype.search=function(){var a=[],b=new T(m);for(b.push({cost:0,index:this.source});0<b.length;){var d=b.pop().index;if(!this._shortestPathTree.has(d)){!0===this._searchFrontier.has(d)&&this._shortestPathTree.set(d,
this._searchFrontier.get(d));if(d===this.target)return this.found=!0,this;this.graph.getEdgesOfNode(d,a);for(var c=0,h=a.length;c<h;c++){var l=a[c],e=(this._cost.get(d)||0)+l.cost;if(!1===this._searchFrontier.has(l.to)||e<this._cost.get(l.to))this._cost.set(l.to,e),this._searchFrontier.set(l.to,l),b.push({cost:e,index:l.to})}}}this.found=!1;return this};ma.prototype.getPath=function(){var a=[];if(!1===this.found||-1===this.target)return a;var b=this.target;for(a.push(b);b!==this.source;)b=this._shortestPathTree.get(b).from,
a.unshift(b);return a};ma.prototype.getSearchTree=function(){return[].concat($jscomp.arrayFromIterable(this._shortestPathTree.values()))};ma.prototype.clear=function(){this.found=!1;this._cost.clear();this._shortestPathTree.clear();this._searchFrontier.clear();return this};var na=new e,C=function(a,b){a=void 0===a?new e(Infinity,Infinity,Infinity):a;b=void 0===b?new e(-Infinity,-Infinity,-Infinity):b;this.min=a;this.max=b};C.prototype.set=function(a,b){this.min=a;this.max=b;return this};C.prototype.copy=
function(a){this.min.copy(a.min);this.max.copy(a.max);return this};C.prototype.clone=function(){return(new this.constructor).copy(this)};C.prototype.clampPoint=function(a,b){b.copy(a).clamp(this.min,this.max);return b};C.prototype.containsPoint=function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0};C.prototype.expand=function(a){this.min.min(a);this.max.max(a);return this};C.prototype.intersectsAABB=function(a){return a.max.x<this.min.x||
a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0};C.prototype.intersectsBoundingSphere=function(a){this.clampPoint(a.center,na);return na.squaredDistanceTo(a.center)<=a.radius*a.radius};C.prototype.fromCenterAndSize=function(a,b){na.copy(b).multiplyScalar(.5);this.min.copy(a).sub(na);this.max.copy(a).add(na);return this};C.prototype.fromPoints=function(a){this.min.set(Infinity,Infinity,Infinity);this.max.set(-Infinity,-Infinity,-Infinity);for(var b=
0,d=a.length;b<d;b++)this.expand(a[b]);return this};C.prototype.equals=function(a){return a.min.equals(this.min)&&a.max.equals(this.max)};var G=function(a,b){this.center=a=void 0===a?new e:a;this.radius=void 0===b?0:b};G.prototype.set=function(a,b){this.center=a;this.radius=b;return this};G.prototype.copy=function(a){this.center.copy(a.center);this.radius=a.radius;return this};G.prototype.clone=function(){return(new this.constructor).copy(this)};G.prototype.containsPoint=function(a){return a.squaredDistanceTo(this.center)<=
this.radius*this.radius};G.prototype.intersectsBoundingSphere=function(a){var b=this.radius+a.radius;return a.center.squaredDistanceTo(this.center)<=b*b};G.prototype.equals=function(a){return a.center.equals(this.center)&&a.radius===this.radius};var Bb=new e,za=new e,M=function(a,b){a=void 0===a?new e:a;b=void 0===b?new e:b;this.from=a;this.to=b};M.prototype.set=function(a,b){this.from=a;this.to=b;return this};M.prototype.copy=function(a){this.from.copy(a.from);this.to.copy(a.to);return this};M.prototype.clone=
function(){return(new this.constructor).copy(this)};M.prototype.delta=function(a){return a.subVectors(this.to,this.from)};M.prototype.at=function(a,b){return this.delta(b).multiplyScalar(a).add(this.from)};M.prototype.closestPointToPoint=function(a,b,d){a=this.closestPointToPointParameter(a,b);return this.at(a,d)};M.prototype.closestPointToPointParameter=function(a,b){b=void 0===b?!0:b;Bb.subVectors(a,this.from);za.subVectors(this.to,this.from);a=za.dot(za);a=za.dot(Bb)/a;b&&(a=z.clamp(a,0,1));return a};
M.prototype.equals=function(a){return a.from.equals(this.from)&&a.to.equals(this.to)};var Cb=new e,Zb=new e,P=function(a,b){this.normal=a=void 0===a?new e(0,0,1):a;this.constant=void 0===b?0:b};P.prototype.set=function(a,b){this.normal=a;this.constant=b;return this};P.prototype.copy=function(a){this.normal.copy(a.normal);this.constant=a.constant;return this};P.prototype.clone=function(){return(new this.constructor).copy(this)};P.prototype.distanceToPoint=function(a){return this.normal.dot(a)+this.constant};
P.prototype.fromNormalAndCoplanarPoint=function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this};P.prototype.fromCoplanarPoints=function(a,b,d){Cb.subVectors(d,b).cross(Zb.subVectors(a,b)).normalize();this.fromNormalAndCoplanarPoint(Cb,a);return this};P.prototype.equals=function(a){return a.normal.equals(this.normal)&&a.constant===this.constant};var Aa=new e,U=function(a,b){a=void 0===a?new e:a;b=void 0===b?new e:b;this.origin=a;this.direction=b};U.prototype.set=function(a,
b){this.origin=a;this.direction=b;return this};U.prototype.copy=function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this};U.prototype.clone=function(){return(new this.constructor).copy(this)};U.prototype.at=function(a,b){return b.copy(this.direction).multiplyScalar(a).add(this.origin)};U.prototype.intersectSphere=function(a,b){Aa.subVectors(a.center,this.origin);var d=Aa.dot(this.direction),c=Aa.dot(Aa)-d*d;a=a.radius*a.radius;if(c>a)return null;a=Math.sqrt(a-c);c=d-a;d+=
a;return 0>c&&0>d?null:0>c?this.at(d,b):this.at(c,b)};U.prototype.equals=function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)};var Ba=function(a,b,d){return Y.call(this,void 0===a?-1:a,void 0===b?-1:b,void 0===d?0:d)||this};$jscomp.inherits(Ba,Y);var Ca=function(a,b,d){a=void 0===a?-1:a;b=void 0===b?new e:b;d=void 0===d?{}:d;a=Va.call(this,a)||this;a.position=b;a.userData=d;return a};$jscomp.inherits(Ca,Va);var Db=function(){};Db.createGridLayout=function(a,b){var d=
new B;d.digraph=!0;var c=a/2;a/=b;for(var h=0,l=0;l<=b;l++)for(var q=l*a-c,f=0;f<=b;f++){var g=new e(f*a-c,0,q);g=new Ca(h,g);d.addNode(g);h++}b=d.getNodeCount();c=Math.pow(a+a/2,2);for(a=0;a<b;a++)for(h=d.getNode(a),l=0;l<b;l++)a!==l&&(q=d.getNode(l).position.squaredDistanceTo(h.position),q<=c&&(q=new Ba(a,l,Math.sqrt(q)),d.addEdge(q)));return d};var Da=function(){this.portalEdges=[]};Da.prototype.push=function(a,b){this.portalEdges.push({left:a,right:b});return this};Da.prototype.generate=function(){var a=
this.portalEdges,b=[],d=0,c=0;var h=a[0].left;var l=a[0].left;var e=a[0].right;b.push(h);var f=1;for(var g=a.length;f<g;f++){var k=a[f].left,m=a[f].right;if(0>=z.area(h,e,m))if(h===e||0<z.area(h,l,m))e=m,c=f;else{b.push(l);h=l;f=d;e=l=h;c=d=f;continue}0<=z.area(h,l,k)&&(h===l||0>z.area(h,e,k)?(l=k,d=f):(b.push(e),h=e,f=c,e=l=h,c=d=f))}0!==b.length&&b[b.length-1]===a[a.length-1].left||b.push(a[a.length-1].left);return b};var fa=function(a){this.vertex=a=void 0===a?new e:a;this.polygon=this.twin=this.prev=
this.next=null;this.nodeIndex=-1};fa.prototype.from=function(){return this.vertex};fa.prototype.to=function(){return this.next?this.next.vertex:null};fa.prototype.length=function(){var a=this.from(),b=this.to();return null!==b?a.distanceTo(b):-1};fa.prototype.squaredLength=function(){var a=this.from(),b=this.to();return null!==b?a.squaredDistanceTo(b):-1};var Xa=new e,Eb=new e,Ya=new e,Za=new e,oa=new e,pa=new M,F=function(){this.graph=new B;this.graph.digraph=!0;this.regions=[];this.spatialIndex=
null;this.epsilonCoplanarTest=.001;this.epsilonContainsTest=1};F.prototype.fromPolygons=function(a){this.clear();for(var b=[],d=[],c=0,h=a.length;c<h;c++){var e=a[c],f=e.edge;do b.push(f),f=f.next;while(f!==e.edge);this.regions.push(e)}a=0;for(c=b.length;a<c;a++)if(h=b[a],null===h.twin)for(e=a+1,f=b.length;e<f;e++){var k=b[e];if(h.from().equals(k.to())&&h.to().equals(k.from())){h.twin=k;k.twin=h;e=h.squaredLength();d.push({cost:e,edge:h});break}}d.sort(g);this._buildRegions(d);this._buildNodeIndices();
this._buildGraph();return this};F.prototype.clear=function(){this.graph.clear();this.regions.length=0;this.spatialIndex=null;return this};F.prototype.getClosestRegion=function(a){for(var b=this.regions,d=null,c=Infinity,h=0,e=b.length;h<e;h++){var f=b[h],g=a.squaredDistanceTo(f.centroid);g<c&&(c=g,d=f)}return d};F.prototype.getRandomRegion=function(){var a=this.regions,b=Math.floor(Math.random()*a.length);b===a.length&&(b=a.length-1);return a[b]};F.prototype.getRegionForPoint=function(a,b){b=void 0===
b?.001:b;if(null!==this.spatialIndex){var d=this.spatialIndex.getIndexForPosition(a);d=this.spatialIndex.cells[d].entries}else d=this.regions;for(var c=0,h=d.length;c<h;c++){var e=d[c];if(!0===e.contains(a,b))return e}return null};F.prototype.findPath=function(a,b){var d=this.graph,c=[],h=this.getRegionForPoint(a,this.epsilonContainsTest),l=this.getRegionForPoint(b,this.epsilonContainsTest);if(null===h||null===l)null===h&&(h=this.getClosestRegion(a)),null===l&&(l=this.getClosestRegion(b));if(h===
l)c.push((new e).copy(a)),c.push((new e).copy(b));else if(h=this.regions.indexOf(h),l=this.regions.indexOf(l),d=new ea(d,h,l),d.search(),!0===d.found){d=d.getPath();l=new Da;l.push(a,a);a={left:null,right:null};h=0;for(var f=d.length-1;h<f;h++)this.regions[d[h]].getPortalEdgeTo(this.regions[d[h+1]],a),l.push(a.left,a.right);l.push(b,b);c.push.apply(c,$jscomp.arrayFromIterable(l.generate()))}return c};F.prototype.clampMovement=function(a,b,d,c){var h=this.getRegionForPoint(d,this.epsilonContainsTest);
if(null===h){if(null===a)throw Error("YUKA.NavMesh.clampMovement(): No current region available.");h=null;var e=Infinity,f=a.edge;do{if(null===f.twin){pa.set(f.vertex,f.next.vertex);var r=pa.closestPointToPointParameter(b);pa.at(r,Xa);r=Xa.squaredDistanceTo(b);r<e&&(e=r,h=f,Eb.copy(Xa))}f=f.next}while(f!==a.edge);Ya.subVectors(h.next.vertex,h.vertex).normalize();d=Za.subVectors(d,b).length();Za.divideScalar(d);e=Ya.dot(Za);oa.copy(Eb).add(Ya.multiplyScalar(e*d));pa.set(h.vertex,h.next.vertex);h=pa.closestPointToPointParameter(oa,
!1);if(0<=h&&1>=h)c.copy(oa);else{h=this.getRegionForPoint(oa,this.epsilonContainsTest);if(null!==h)return c.copy(oa),h;c.copy(b)}return a}return h};F.prototype.updateSpatialIndex=function(){if(null!==this.spatialIndex){this.spatialIndex.makeEmpty();for(var a=this.regions,b=0,d=a.length;b<d;b++)this.spatialIndex.addPolygon(a[b])}return this};F.prototype._buildRegions=function(a){for(var b=this.regions,d,c,h,e,f=0,g=a.length;f<g;f++){var k=a[f],m=k.edge;d=m.prev;c=m.next;h=m.twin.prev;e=m.twin.next;
m.prev.next=m.twin.next;m.next.prev=m.twin.prev;m.twin.prev.next=m.next;m.twin.next.prev=m.prev;var n=m.polygon;n.edge=m.prev;if(!0===n.convex()&&!0===n.coplanar(this.epsilonCoplanarTest)){d=n.edge;do d.polygon=n,d=d.next;while(d!==n.edge);k=b.indexOf(k.edge.twin.polygon);b.splice(k,1)}else d.next=m,c.prev=m,h.next=m.twin,e.prev=m.twin,n.edge=m}a=0;for(g=b.length;a<g;a++)b[a].computeCentroid()};F.prototype._buildNodeIndices=function(){for(var a=this.regions,b=new Map,d=0,c=0,h=a.length;c<h;c++){var e=
a[c],f=e.edge;do{if(null!==f.twin&&null===f.nodeIndex){for(var g=-1,k=f.from(),m=$jscomp.makeIterator(b.entries()),n=m.next();!n.done;n=m.next()){var p=$jscomp.makeIterator(n.value);n=p.next().value;p=p.next().value;if(!0===k.equals(p)){g=n;break}}-1===g&&(g=d++,b.set(g,k));f.nodeIndex=g;f.twin.next.nodeIndex=g}f=f.next}while(f!==e.edge)}};F.prototype._buildGraph=function(){for(var a=this.graph,b=this.regions,d=[],c=0,h=b.length;c<h;c++){var e=b[c],f=[];d.push(f);var g=e.edge;do null!==g.twin&&(f.push(this.regions.indexOf(g.twin.polygon)),
!1===a.hasNode(this.regions.indexOf(g.polygon))&&a.addNode(new Ca(this.regions.indexOf(g.polygon),g.polygon.centroid))),g=g.next;while(g!==e.edge)}b=0;for(c=d.length;b<c;b++)for(h=d[b],e=b,f=0,g=h.length;f<g;f++){var k=h[f];if(e!==k&&!1===a.hasEdge(e,k)){var m=a.getNode(e),n=a.getNode(k);m=m.position.distanceTo(n.position);a.addEdge(new Ba(e,k,m))}}return this};var N=function(){this.centroid=new e;this.edge=null;this.plane=new P};N.prototype.fromContour=function(a){var b=[];if(3>a.length)return x.error("YUKA.Polygon: Unable to create polygon from contour. It needs at least three points."),
this;for(var d=0,c=a.length;d<c;d++){var e=new fa(a[d]);b.push(e)}d=0;for(c=b.length;d<c;d++){if(0===d){e=b[d];var f=b[c-1];var g=b[d+1]}else d===c-1?(e=b[d],f=b[d-1],g=b[0]):(e=b[d],f=b[d-1],g=b[d+1]);e.prev=f;e.next=g;e.polygon=this}this.edge=b[0];this.plane.fromCoplanarPoints(a[0],a[1],a[2]);return this};N.prototype.computeCentroid=function(){var a=this.centroid,b=this.edge,d=0;a.set(0,0,0);do a.add(b.from()),d++,b=b.next;while(b!==this.edge);a.divideScalar(d);return this};N.prototype.contains=
function(a,b){b=void 0===b?.001:b;var d=this.plane,c=this.edge;do{var e=c.from(),f=c.to();if(!1===0<=z.area(e,f,a))return!1;c=c.next}while(c!==this.edge);a=d.distanceToPoint(a);return Math.abs(a)>b?!1:!0};N.prototype.convex=function(){var a=this.edge;do{var b=a.from(),d=a.to(),c=a.next.to();if(!1===0<=z.area(b,d,c))return!1;a=a.next}while(a!==this.edge);return!0};N.prototype.coplanar=function(a){a=void 0===a?.001:a;var b=this.plane,d=this.edge;do{var c=b.distanceToPoint(d.from());if(Math.abs(c)>a)return!1;
d=d.next}while(d!==this.edge);return!0};N.prototype.getContour=function(a){var b=this.edge;a.length=0;do a.push(b.vertex),b=b.next;while(b!==this.edge);return a};N.prototype.getPortalEdgeTo=function(a,b){var d=this.edge;do{if(null!==d.twin&&d.twin.polygon===a)return b.left=d.vertex,b.right=d.next.vertex,b;d=d.next}while(d!==this.edge);b.left=null;b.right=null;return b};var Fb=function(){};Fb.prototype.load=function(a,b){return new Promise(function(d,c){fetch(a).then(function(a){if(200<=a.status&&
300>a.status)return a.arrayBuffer();var b=Error(a.statusText||a.status);b.response=a;return Promise.reject(b)}).then(function(d){var c=new O,e=new TextDecoder;"glTF"===e.decode(new Uint8Array(d,0,4))?(c.parseBinary(d),d=c.extensions.get("BINARY").content):d=e.decode(new Uint8Array(d));d=JSON.parse(d);if(void 0===d.asset||2>d.asset.version[0])throw Error("YUKA.NavMeshLoader: Unsupported asset version.");e=a.lastIndexOf("/");e=-1===e?"./":a.substr(0,e+1);return c.parse(d,e,b)}).then(function(a){d(a)}).catch(function(a){x.error("YUKA.NavMeshLoader: Unable to load navigation mesh.",
a);c(a)})})};var O=function(){this.path=this.json=null;this.cache=new Map;this.extensions=new Map};O.prototype.parse=function(a,b,d){var c=this;this.json=a;this.path=b;return this.getDependency("mesh",0).then(function(a){a=c.parseGeometry(a);var b=new F;d&&d.epsilonCoplanarTest&&(b.epsilonCoplanarTest=d.epsilonCoplanarTest);return b.fromPolygons(a)})};O.prototype.parseGeometry=function(a){var b=a.index,d=a.position;a=[];for(var c=[],h=0,f=d.length;h<f;h+=3){var g=new e;g.x=d[h+0];g.y=d[h+1];g.z=d[h+
2];a.push(g)}if(b)for(d=0,f=b.length;d<f;d+=3)h=[a[b[d+0]],a[b[d+1]],a[b[d+2]]],h=(new N).fromContour(h),c.push(h);else for(b=0,f=a.length;b<f;b+=3)d=[a[b+0],a[b+1],a[b+2]],d=(new N).fromContour(d),c.push(d);return c};O.prototype.getDependencies=function(a){var b=this,d=this.cache,c=d.get(a);c||(c=Promise.all((this.json[a+("mesh"===a?"es":"s")]||[]).map(function(d,c){return b.getDependency(a,c)})),d.set(a,c));return c};O.prototype.getDependency=function(a,b){var d=this.cache,c=a+":"+b,e=d.get(c);
if(void 0===e){switch(a){case "accessor":e=this.loadAccessor(b);break;case "buffer":e=this.loadBuffer(b);break;case "bufferView":e=this.loadBufferView(b);break;case "mesh":e=this.loadMesh(b);break;default:throw Error("Unknown type: "+a);}d.set(c,e)}return e};O.prototype.loadBuffer=function(a){var b=this,d=this.json.buffers[a];return void 0===d.uri&&0===a?Promise.resolve(this.extensions.get("BINARY").body):new Promise(function(a,c){var e=I(d.uri,b.path);fetch(e).then(function(a){return a.arrayBuffer()}).then(function(b){a(b)}).catch(function(a){x.error("YUKA.NavMeshLoader: Unable to load buffer.",
a);c(a)})})};O.prototype.loadBufferView=function(a){var b=this.json.bufferViews[a];return this.getDependency("buffer",b.buffer).then(function(a){var d=b.byteOffset||0;return a.slice(d,d+(b.byteLength||0))})};O.prototype.loadAccessor=function(a){var b=this.json.accessors[a];return this.getDependency("bufferView",b.bufferView).then(function(a){return new $b[b.componentType](a,b.byteOffset||0,b.count*ac[b.type])})};O.prototype.loadMesh=function(a){var b=this.json.meshes[a];return this.getDependencies("accessor").then(function(a){var d=
b.primitives[0];if(4!==d.mode)throw Error("YUKA.NavMeshLoader: Invalid geometry format. Please ensure to represent your geometry as triangles.");return{index:a[d.indices],position:a[d.attributes.POSITION],normal:a[d.attributes.NORMAL]}})};O.prototype.parseBinary=function(a){for(var b=new DataView(a,12),d=0,c=new TextDecoder,e=null,f=null;d<b.byteLength;){var g=b.getUint32(d,!0);d+=4;var k=b.getUint32(d,!0);d+=4;k===Gb.JSON?(e=new Uint8Array(a,12+d,g),e=c.decode(e)):k===Gb.BIN&&(f=12+d,f=a.slice(f,
f+g));d+=g}this.extensions.set("BINARY",{content:e,body:f})};var ac={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},$b={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Gb={JSON:1313821514,BIN:5130562},Z=function(a){this.aabb=a=void 0===a?new C:a;this.entries=[]};Z.prototype.add=function(a){this.entries.push(a);return this};Z.prototype.remove=function(a){a=this.entries.indexOf(a);this.entries.splice(a,1);return this};Z.prototype.makeEmpty=function(){this.entries.length=
0;return this};Z.prototype.empty=function(){return 0===this.entries.length};Z.prototype.intersects=function(a){return this.aabb.intersectsAABB(a)};var Ea=new e,qa=new C,Hb=[],V=function(a,b,d,c,f,g){this.cells=[];this.width=a;this.height=b;this.depth=d;this.cellsX=c;this.cellsY=f;this.cellsZ=g;this._halfWidth=a/2;this._halfHeight=b/2;this._halfDepth=d/2;this._min=new e(-this._halfWidth,-this._halfHeight,-this._halfDepth);this._max=new e(this._halfWidth,this._halfHeight,this._halfDepth);a/=c;b/=f;
d/=g;for(var h=0;h<c;h++)for(var k=h*a-this._halfWidth,l=0;l<f;l++)for(var m=l*b-this._halfHeight,r=0;r<g;r++){var n=r*d-this._halfDepth,p=new e,t=new e;p.set(k,m,n);t.x=p.x+a;t.y=p.y+b;t.z=p.z+d;n=new C(p,t);n=new Z(n);this.cells.push(n)}};V.prototype.updateEntity=function(a,b){b=void 0===b?-1:b;var d=this.getIndexForPosition(a.position);b!==d&&(this.addEntityToPartition(a,d),-1!==b&&this.removeEntityFromPartition(a,b));return d};V.prototype.addEntityToPartition=function(a,b){this.cells[b].add(a);
return this};V.prototype.removeEntityFromPartition=function(a,b){this.cells[b].remove(a);return this};V.prototype.getIndexForPosition=function(a){Ea.copy(a).clamp(this._min,this._max);a=Math.abs(Math.floor(this.cellsX*(Ea.x+this._halfWidth)/this.width));var b=Math.abs(Math.floor(this.cellsY*(Ea.y+this._halfHeight)/this.height)),d=Math.abs(Math.floor(this.cellsZ*(Ea.z+this._halfDepth)/this.depth));a===this.cellsX&&(a=this.cellsX-1);b===this.cellsY&&(b=this.cellsY-1);d===this.cellsZ&&(d=this.cellsZ-
1);return a*this.cellsY*this.cellsZ+b*this.cellsZ+d};V.prototype.query=function(a,b,d){var c=this.cells;d.length=0;qa.min.copy(a).subScalar(b);qa.max.copy(a).addScalar(b);a=0;for(b=c.length;a<b;a++){var e=c[a];!1===e.empty()&&!0===e.intersects(qa)&&d.push.apply(d,$jscomp.arrayFromIterable(e.entries))}return d};V.prototype.makeEmpty=function(){for(var a=this.cells,b=0,d=a.length;b<d;b++)a[b].makeEmpty();return this};V.prototype.addPolygon=function(a){var b=this.cells;a.getContour(Hb);qa.fromPoints(Hb);
for(var d=0,c=b.length;d<c;d++){var e=b[d];!0===e.intersects(qa)&&e.add(a)}return this};var aa=function(){this.loop=!1;this._waypoints=[];this._index=0};aa.prototype.add=function(a){this._waypoints.push(a);return this};aa.prototype.clear=function(){this._index=this._waypoints.length=0;return this};aa.prototype.current=function(){return this._waypoints[this._index]};aa.prototype.finished=function(){var a=this._waypoints.length-1;return!0===this.loop?!1:this._index===a};aa.prototype.advance=function(){this._index++;
this._index===this._waypoints.length&&(!0===this.loop?this._index=0:this._index--);return this};var Ib=function(a){this.count=void 0===a?10:a;this._history=[];for(a=this._slot=0;a<this.count;a++)this._history[a]=new e};Ib.prototype.calculate=function(a,b){b.set(0,0,0);this._slot===this.count&&(this._slot=0);this._history[this._slot].copy(a);this._slot++;for(a=0;a<this.count;a++)b.add(this._history[a]);b.divideScalar(this.count);return b};var u=function(){this.active=!0;this.weigth=1};u.prototype.calculate=
function(){};var Fa=new e,ba=function(a){this.vehicle=a;this.behaviors=[];this._steeringForce=new e};ba.prototype.add=function(a){this.behaviors.push(a);return this};ba.prototype.remove=function(a){a=this.behaviors.indexOf(a);this.behaviors.splice(a,1);return this};ba.prototype.calculate=function(a,b){this._calculateByOrder(a);return b.copy(this._steeringForce)};ba.prototype._accumulate=function(a){var b=this._steeringForce.length();b=this.vehicle.maxForce-b;if(0>=b)return!1;a.length()>b&&a.normalize().multiplyScalar(b);
this._steeringForce.add(a);return!0};ba.prototype._calculateByOrder=function(a){var b=this.behaviors;this._steeringForce.set(0,0,0);for(var d=0,c=b.length;d<c;d++){var e=b[d];if(!0===e.active&&(Fa.set(0,0,0),e.calculate(this.vehicle,Fa,a),Fa.multiplyScalar(e.weigth),!1===this._accumulate(Fa)))break}};var Jb=new e,Ga=new e,Kb=new e,ra=new e,Lb=new e,$a=function(){var a=X.call(this)||this;a.mass=1;a.maxForce=100;a.steering=new ba(a);a.smoother=null;return a};$jscomp.inherits($a,X);$a.prototype.update=
function(a){this.steering.calculate(a,Jb);Kb.copy(Jb).divideScalar(this.mass);this.velocity.add(Kb.multiplyScalar(a));this.getSpeedSquared()>this.maxSpeed*this.maxSpeed&&(this.velocity.normalize(),this.velocity.multiplyScalar(this.maxSpeed));Ga.copy(this.velocity).multiplyScalar(a);ra.copy(this.position).add(Ga);!0===this.updateOrientation&&null===this.smoother&&1e-8<this.getSpeedSquared()&&this.lookAt(ra);this.position.copy(ra);!0===this.updateOrientation&&null!==this.smoother&&(this.smoother.calculate(this.velocity,
Lb),Ga.copy(Lb).multiplyScalar(a),ra.copy(this.position).add(Ga),this.lookAt(ra));return this};var Ha=new e,Ia=new e,ab=function(){return u.call(this)||this};$jscomp.inherits(ab,u);ab.prototype.calculate=function(a,b){Ha.set(0,0,0);for(var d=a.neighbors,c=0,e=d.length;c<e;c++)d[c].getDirection(Ia),Ha.add(Ia);0<d.length&&(Ha.divideScalar(d.length),a.getDirection(Ia),b.subVectors(Ha,Ia));return b};var Mb=new e,bb=new e,sa=function(a,b){a=void 0===a?new e:a;b=void 0===b?3:b;var d=u.call(this)||this;
d.target=a;d.deceleration=b;return d};$jscomp.inherits(sa,u);sa.prototype.calculate=function(a,b){var d=this.deceleration;bb.subVectors(this.target,a.position);var c=bb.length();0<c&&(d=Math.min(c/d,a.maxSpeed),Mb.copy(bb).multiplyScalar(d/c),b.subVectors(Mb,a.velocity));return b};var cb=new e,ha=function(a){a=void 0===a?new e:a;var b=u.call(this)||this;b.target=a;return b};$jscomp.inherits(ha,u);ha.prototype.calculate=function(a,b){cb.subVectors(this.target,a.position).normalize();cb.multiplyScalar(a.maxSpeed);
return b.subVectors(cb,a.velocity)};var Ja=new e,db=function(){var a=u.call(this)||this;a._seek=new ha;return a};$jscomp.inherits(db,u);db.prototype.calculate=function(a,b){Ja.set(0,0,0);for(var d=a.neighbors,c=0,e=d.length;c<e;c++)Ja.add(d[c].position);0<d.length&&(Ja.divideScalar(d.length),this._seek.target=Ja,this._seek.calculate(a,b),b.normalize());return b};var ta=new e,Ka=function(a,b){a=void 0===a?new e:a;b=void 0===b?10:b;var c=u.call(this)||this;c.target=a;c.panicDistance=b;return c};$jscomp.inherits(Ka,
u);Ka.prototype.calculate=function(a,b){var c=this.target;a.position.squaredDistanceTo(c)<=this.panicDistance*this.panicDistance&&(ta.subVectors(a.position,c).normalize(),0===ta.squaredLength()&&ta.set(0,0,1),ta.multiplyScalar(a.maxSpeed),b.subVectors(ta,a.velocity));return b};var Nb=new e,Ob=new e,Pb=new e,eb=function(a,b,c){a=void 0===a?null:a;b=void 0===b?10:b;c=void 0===c?1:c;var d=u.call(this)||this;d.pursuer=a;d.panicDistance=b;d.predictionFactor=c;d._flee=new Ka;return d};$jscomp.inherits(eb,
u);eb.prototype.calculate=function(a,b){var c=this.pursuer;Nb.subVectors(c.position,a.position);var e=Nb.length()/(a.maxSpeed+c.getSpeed());e*=this.predictionFactor;Ob.copy(c.velocity).multiplyScalar(e);Pb.addVectors(c.position,Ob);this._flee.target=Pb;this._flee.panicDistance=this.panicDistance;this._flee.calculate(a,b);return b};var fb=function(a,b){a=void 0===a?new aa:a;b=void 0===b?1:b;var c=u.call(this)||this;c.path=a;c.nextWaypointDistance=b;c._arrive=new sa;c._seek=new ha;return c};$jscomp.inherits(fb,
u);fb.prototype.calculate=function(a,b){var c=this.path;c.current().squaredDistanceTo(a.position)<this.nextWaypointDistance*this.nextWaypointDistance&&c.advance();var e=c.current();!0===c.finished()?(this._arrive.target=e,this._arrive.calculate(a,b)):(this._seek.target=e,this._seek.calculate(a,b));return b};var La=new e,Ma=new e,Qb=new e,Rb=new e,gb=function(a,b,c){a=void 0===a?null:a;b=void 0===b?null:b;c=void 0===c?3:c;var d=u.call(this)||this;d.entity1=a;d.entity2=b;d.deceleration=c;d._arrive=
new sa;return d};$jscomp.inherits(gb,u);gb.prototype.calculate=function(a,b){var c=this.entity1,e=this.entity2;La.addVectors(c.position,e.position).multiplyScalar(.5);var f=a.position.distanceTo(La)/a.maxSpeed;Ma.copy(c.velocity).multiplyScalar(f);Qb.addVectors(c.position,Ma);Ma.copy(e.velocity).multiplyScalar(f);Rb.addVectors(e.position,Ma);La.addVectors(Qb,Rb).multiplyScalar(.5);this._arrive.deceleration=this.deceleration;this._arrive.target=La;this._arrive.calculate(a,b);return b};var Sb=new w,
ia=new e,Na=new e,hb=new e,ib=new G,bc=new U(new e(0,0,0),new e(0,0,1)),jb=function(a){a=void 0===a?[]:a;var b=u.call(this)||this;b.obstacles=a;b.brakingWeight=.2;b.dBoxMinLength=4;return b};$jscomp.inherits(jb,u);jb.prototype.calculate=function(a,b){var c=this.obstacles,e=null,f=Infinity,g=this.dBoxMinLength+a.getSpeed()/a.maxSpeed*this.dBoxMinLength;Sb.getInverse(a.matrix);for(var k=0,m=c.length;k<m;k++){var n=c[k];if(n!==a&&(ia.copy(n.position).applyMatrix4(Sb),0<ia.z&&Math.abs(ia.z)<g)){var p=
n.boundingRadius+a.boundingRadius;Math.abs(ia.x)<p&&(ib.center.copy(ia),ib.radius=p,bc.intersectSphere(ib,hb),hb.z<f&&(f=hb.z,e=n,Na.copy(ia)))}}null!==e&&(b.x=(e.boundingRadius-Na.x)*(1+(g-Na.z)/g),b.z=(e.boundingRadius-Na.z)*this.brakingWeight,b.applyRotation(a.rotation));return b};var kb=new e,lb=new e,Tb=new e,Ub=new e,Vb=new e,mb=function(a,b){a=void 0===a?null:a;b=void 0===b?1:b;var c=u.call(this)||this;c.evader=a;c.predictionFactor=b;c._seek=new ha;return c};$jscomp.inherits(mb,u);mb.prototype.calculate=
function(a,b){var c=this.evader;kb.subVectors(c.position,a.position);a.getDirection(lb);c.getDirection(Tb);var e=0<kb.dot(lb),f=-.95>lb.dot(Tb);if(!0===e&&!0===f)return this._seek.target=c.position,this._seek.calculate(a,b),b;e=kb.length()/(a.maxSpeed+c.getSpeed());e*=this.predictionFactor;Ub.copy(c.velocity).multiplyScalar(e);Vb.addVectors(c.position,Ub);this._seek.target=Vb;this._seek.calculate(a,b);return b};var Oa=new e,nb=function(){return u.call(this)||this};$jscomp.inherits(nb,u);nb.prototype.calculate=
function(a,b){for(var c=a.neighbors,e=0,f=c.length;e<f;e++){Oa.subVectors(a.position,c[e].position);var g=Oa.length();0===g&&(g=.0001);Oa.normalize().divideScalar(g);b.add(Oa)}return b};var ua=new e,ob=new e,pb=function(a,b,c){a=void 0===a?1:a;b=void 0===b?5:b;c=void 0===c?5:c;var d=u.call(this)||this;d.radius=a;d.distance=b;d.jitter=c;d._targetLocal=new e;a=d.radius;b=d._targetLocal;c=Math.random()*Math.PI*2;b.x=a*Math.cos(c);b.z=a*Math.sin(c);return d};$jscomp.inherits(pb,u);pb.prototype.calculate=
function(a,b,c){c*=this.jitter;ob.x=z.randFloat(-1,1)*c;ob.z=z.randFloat(-1,1)*c;this._targetLocal.add(ob);this._targetLocal.normalize();this._targetLocal.multiplyScalar(this.radius);ua.copy(this._targetLocal);ua.z+=this.distance;ua.applyMatrix4(a.worldMatrix);b.subVectors(ua,a.position);return b};var va=function(){};va.prototype.touching=function(){return!1};var Wb=new G,wa=function(a,b){a=void 0===a?new e:a;b=void 0===b?new e:b;this._aabb=new C(a,b);return this};$jscomp.inherits(wa,va);wa.prototype.fromPositionAndSize=
function(a,b){this._aabb.fromCenterAndSize(a,b);return this};wa.prototype.touching=function(a){Wb.set(a.position,a.boundingRadius);return this._aabb.intersectsBoundingSphere(Wb)};$jscomp.global.Object.defineProperties(wa.prototype,{min:{configurable:!0,enumerable:!0,get:function(){return this._aabb.min},set:function(a){this._aabb.min=a}},max:{configurable:!0,enumerable:!0,get:function(){return this._aabb.max},set:function(a){this._aabb.max=a}}});var Xb=new G,Pa=function(a,b){a=void 0===a?new e:a;
this._boundingSphere=new G(a,void 0===b?0:b);return this};$jscomp.inherits(Pa,va);Pa.prototype.touching=function(a){Xb.set(a.position,a.boundingRadius);return this._boundingSphere.intersectsBoundingSphere(Xb)};$jscomp.global.Object.defineProperties(Pa.prototype,{position:{configurable:!0,enumerable:!0,get:function(){return this._boundingSphere.center},set:function(a){this._boundingSphere.center=a}},radius:{configurable:!0,enumerable:!0,get:function(){return this._boundingSphere.radius},set:function(a){this._boundingSphere.radius=
a}}});var Qa=function(a){a=void 0===a?new va:a;this.active=!0;this.region=a};Qa.prototype.check=function(a){!0===this.active&&!0===this.region.touching(a)&&this.execute(a);return this};Qa.prototype.execute=function(){};Qa.prototype.update=function(){};c.EntityManager=E;c.GameEntity=D;c.Logger=x;c.MessageDispatcher=H;c.MovingEntity=X;c.Regulator=xb;c.Time=ca;c.Telegram=k;c.State=da;c.StateMachine=K;c.CompositeGoal=L;c.Goal=t;c.GoalEvaluator=Ua;c.Think=S;c.Edge=Y;c.Graph=B;c.Node=Va;c.PriorityQueue=
T;c.AStar=ea;c.BFS=ka;c.DFS=la;c.Dijkstra=ma;c.AABB=C;c.BoundingSphere=G;c.LineSegment=M;c.MathUtils=z;c.Matrix3=y;c.Matrix4=w;c.Plane=P;c.Quaternion=v;c.Ray=U;c.Vector3=e;c.NavEdge=Ba;c.NavNode=Ca;c.GraphUtils=Db;c.Corridor=Da;c.HalfEdge=fa;c.NavMesh=F;c.NavMeshLoader=Fb;c.Polygon=N;c.Cell=Z;c.CellSpacePartitioning=V;c.Path=aa;c.Smoother=Ib;c.SteeringBehavior=u;c.SteeringManager=ba;c.Vehicle=$a;c.AlignmentBehavior=ab;c.ArriveBehavior=sa;c.CohesionBehavior=db;c.EvadeBehavior=eb;c.FleeBehavior=Ka;
c.FollowPathBehavior=fb;c.InterposeBehavior=gb;c.ObstacleAvoidanceBehavior=jb;c.PursuitBehavior=mb;c.SeekBehavior=ha;c.SeparationBehavior=nb;c.WanderBehavior=pb;c.RectangularTriggerRegion=wa;c.SphericalTriggerRegion=Pa;c.TriggerRegion=va;c.Trigger=Qa;c.HeuristicPolicyEuclid=Wa;c.HeuristicPolicyEuclidSquared=yb;c.HeuristicPolicyManhatten=zb;c.HeuristicPolicyDijkstra=Ab;c.WorldUp=Ra;Object.defineProperty(c,"__esModule",{value:!0})});
